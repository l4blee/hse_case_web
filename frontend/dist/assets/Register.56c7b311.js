import{m as y,b as D,c as e,r as g,t as b,a as x,F as v,i as a,L as E}from"./index.8af2b38c.js";import{c as H,b as W,B as $}from"./Box.5a30774a.js";import{a as I}from"./Button.410c50d9.js";import{g as _,a as A,c as T,s as B,C as F}from"./Container.e3f5c66c.js";import{u as M,f as R,F as o,I as d,a as c}from"./InputLabel.014213f1.js";import{T as C}from"./Typography.9b808d76.js";function k(r){return A("MuiFormHelperText",r)}const q=_("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),L=b('<span class="notranslate">&#8203;</span>'),w=H()({name:"MuiFormHelperText",propDefaults:({set:r})=>r({component:"p"}),selfPropNames:["children","classes","disabled","error","filled","focused","margin","required","variant"],utilityClass:k,autoCallUseClasses:!1,slotClasses:r=>({root:["root",!!r.disabled&&"disabled",!!r.error&&"error",!!r.size&&`size${T(r.size)}`,r.contained&&"contained",!!r.focused&&"focused",!!r.filled&&"filled",!!r.required&&"required"]})}),N=B("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(r,u)=>{const{ownerState:n}=r;return[u.root,n.size&&u[`size${T(n.size)}`],n.contained&&u.contained,n.filled&&u.filled]}})(({theme:r,ownerState:u})=>({color:r.palette.text.secondary,...r.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${q.disabled}`]:{color:r.palette.text.disabled},[`&.${q.error}`]:{color:r.palette.error.main},...u.size==="small"&&{marginTop:4},...u.contained&&{marginLeft:14,marginRight:14}})),U=w.component(function({allProps:u,otherProps:n,props:p}){const m=M(),i=R({props:u,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),s=y(u,{get contained(){return i.variant==="filled"||i.variant==="outlined"},get variant(){return i.variant},get size(){return i.size},get disabled(){return i.disabled},get error(){return i.error},get filled(){return i.filled},get focused(){return i.focused},get required(){return i.required}}),h=w.useClasses(s),t=D(()=>p.children);return e(N,y(n,{get as(){return n.component},ownerState:s,get class(){return W(h.root,n.class)},get children(){return g(()=>t()===" ",!0)()?L.cloneNode(!0):t()}}))}),j=U,S=b('<form style="width: 90%"></form>');function V(){const[r,u]=x(!1),[n,p]=x({status:!1,message:""}),[m,i]=x({email:null,nickname:null,name:null,surname:null,course:null,password:null,password_repeat:null});function s(t){i({...m(),[t.target.id]:t.target.value})}function h(t){if(t.preventDefault(),m().password!==m().password_repeat){u(!0);return}const l=m(),z={email:l.email,nickname:l.nickname,fullname:[l.name,l.surname],password:l.password,course:l.course};fetch("/auth/register",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}).then(f=>{if(f.status===409){p({status:!0,message:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441 \u044D\u0442\u043E\u0439 \u043F\u043E\u0447\u0442\u043E\u0439 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"});return}if(f.status!==200){p({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."});return}f.redirected&&window.location.assign(f.url)}).catch(f=>{p({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."})})}return v(()=>{document.title="TimeSim | \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"}),e($,{sx:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},get children(){return e(F,{sx:{display:"flex",flexDirection:"column",width:"400px",justifyContent:"center",alignItems:"center",boxShadow:"#00000029 0 0 25px",padding:"25px",borderRadius:"8px"},get children(){return[e(C,{sx:{fontSize:"22px",width:"100%",textAlign:"center"},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"}),g(()=>g(()=>!!n().status,!0)()&&e(C,{sx:{color:"#d32f2f",textAlign:"center"},get children(){return n().message}})),(()=>{const t=S.cloneNode(!0);return t.addEventListener("submit",h),a(t,e(o,{fullWidth:!0,sx:{mt:"15px"},get children(){return[e(d,{for:"email",required:!0,children:"Email"}),e(c,{id:"email",type:"email",required:!0,onChange:s})]}}),null),a(t,e(o,{fullWidth:!0,sx:{mt:"15px"},get children(){return[e(d,{for:"nickname",required:!0,children:"\u041D\u0438\u043A\u043D\u0435\u0439\u043C"}),e(c,{id:"nickname",required:!0,onChange:s})]}}),null),a(t,e(F,{sx:{display:"flex",flexDirection:"row",mt:"15px",padding:"0 !important"},get children(){return[e(o,{fullWidth:!0,sx:{mr:"10px"},get children(){return[e(d,{for:"name",required:!0,children:"\u0418\u043C\u044F"}),e(c,{id:"name",required:!0,onChange:s})]}}),e(o,{fullWidth:!0,get children(){return[e(d,{for:"surname",required:!0,children:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"}),e(c,{id:"surname",required:!0,onChange:s})]}})]}}),null),a(t,e(o,{fullWidth:!0,sx:{display:"flex",flexDirection:"row",alignItems:"end",mt:"15px"},get children(){return[e(d,{for:"course",required:!0,children:"\u041A\u0443\u0440\u0441"}),e(c,{fullWidth:!0,id:"course",required:!0,onChange:s})]}}),null),a(t,e(o,{fullWidth:!0,sx:{display:"flex",flexDirection:"row",alignItems:"end",mt:"15px"},get children(){return[e(d,{for:"password",required:!0,children:"\u041F\u0430\u0440\u043E\u043B\u044C"}),e(c,{fullWidth:!0,id:"password",type:"password",required:!0,onChange:s})]}}),null),a(t,e(o,{fullWidth:!0,sx:{display:"flex",flexDirection:"column",alignItems:"end",mt:"15px"},get children(){return[e(d,{for:"password_repeat",required:!0,children:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435"}),e(c,{fullWidth:!0,id:"password_repeat",type:"password",required:!0,onChange:l=>{s(l),u(!1)}}),g(()=>g(()=>!!r(),!0)()&&e(j,{error:!0,children:"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442"}))]}}),null),a(t,e(I,{fullWidth:!0,type:"submit",sx:{mt:"10px"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"}),null),t})(),e(C,{sx:{mt:"5px"},get children(){return["\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? ",e(E,{href:"/login",children:"\u0412\u043E\u0439\u0442\u0438"})]}})]}})}})}export{V as default};
