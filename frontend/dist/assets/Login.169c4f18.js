import{t as n,a as u,F as y,c as t,r as l,i as o,L as C}from"./index.8af2b38c.js";import{c as g}from"./createSvgIcon.083e04c0.js";import{B as z}from"./Box.5a30774a.js";import{a as b}from"./Button.410c50d9.js";import{C as I}from"./Container.e3f5c66c.js";import{F as h,I as p,a as f}from"./InputLabel.014213f1.js";import{I as M}from"./IconButton.65d4d8c9.js";import{T as a}from"./Typography.9b808d76.js";const S=n('<svg><path d="M0 0h24v24H0z" fill="none"></path></svg>',4,!0),$=n('<svg><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>',4,!0),E=g(()=>[S.cloneNode(!0),$.cloneNode(!0)],"Visibility"),_=n('<svg><path d="M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z" fill="none"></path></svg>',4,!0),D=n('<svg><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></svg>',4,!0),H=g(()=>[_.cloneNode(!0),D.cloneNode(!0)],"VisibilityOff"),L=n('<form style="width: 90%"></form>');function j(){const[i,x]=u(!1),[c,s]=u({status:!1,message:""}),[d,v]=u({email:null,password:null});function w(e){e.preventDefault(),fetch("/auth/login",{method:"POST",body:JSON.stringify(d()),headers:{"Content-Type":"application/json"}}).then(r=>{if(r.status===401){s({status:!0,message:"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C."});return}if(r.status!==200){s({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."});return}r.redirected&&window.location.assign(r.url)}).catch(r=>{s({status:!0,message:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."})})}function m(e){v({...d(),[e.target.id]:e.target.value})}return y(()=>{document.title="TimeSim | \u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"}),t(z,{sx:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},get children(){return t(I,{sx:{display:"flex",flexDirection:"column",width:"400px",justifyContent:"center",alignItems:"center",boxShadow:"#00000029 0 0 25px",padding:"25px",borderRadius:"8px"},get children(){return[t(a,{sx:{fontSize:"22px",width:"100%",textAlign:"center"},children:"\u0412\u0445\u043E\u0434"}),l(()=>l(()=>!!c().status,!0)()&&t(a,{sx:{color:"#d32f2f",textAlign:"center"},get children(){return c().message}})),(()=>{const e=L.cloneNode(!0);return e.addEventListener("submit",w),o(e,t(h,{fullWidth:!0,sx:{mt:"15px"},get children(){return[t(p,{for:"email",children:"Email"}),t(f,{id:"email",onChange:m})]}}),null),o(e,t(h,{fullWidth:!0,sx:{display:"flex",flexDirection:"row",alignItems:"end",mt:"15px"},get children(){return[t(p,{for:"password",children:"\u041F\u0430\u0440\u043E\u043B\u044C"}),t(f,{fullWidth:!0,id:"password",get type(){return i()?"text":"password"},onChange:m}),t(M,{onClick:()=>x(!i()),get children(){return l(()=>!!i(),!0)()?t(H,{}):t(E,{})},size:"large",sx:{ml:"5px",width:"25px",height:"25px"}})]}}),null),o(e,t(b,{fullWidth:!0,type:"submit",sx:{mt:"10px"},children:"\u0412\u043E\u0439\u0442\u0438"}),null),e})(),t(a,{get children(){return["\u0415\u0449\u0451 \u043D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? ",t(C,{href:"/register",children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"})]}})]}})}})}export{j as default};
